# Лабораторная работа 4: Memory Manager

В работе реализован универсальный менеджер памяти на основе использования подходов Fixed-size Memory Allocation (FSA) и Coalesce Allocation с Free-List. FSA используется для выделения блоков размером 16, 32, 64, 128, 256 и 512 байт, Coalesce Allocation используется для выделения блоков размерами 512 байт - 10 Мб, все запросы блоков размером больше 10 Мб передаются непосредственно ОС.<br /><br />
Для реализации менеджера реализованы два вспомогательных класса - FSAllocator и CoalesceAllocator.<br />
FSAllocator позволяет задавать в своем конструкторе размер одного блока и количество блоков в странице. В отладочной версии страница резервирует в 3 раза больше памяти чтобы разместить около каждого блока 8-байтовые флаги для отслеживана повреждения данных.
Класс MemoryAllocator поддерживает следующие операции:<br />
```
MemoryAllocator();
```
Создает неинициализированный аллокатор.
```
virtual ~MemoryAllocator();
```
Деструктор освобождает все блоки памяти, запрошенные у
операционной системы.
```
virtual void init();
```
Выполняет инициализацию аллокатора, запрашивая необходимые
страницы памяти у ОС.
```
virtual void destroy();
```
Выполняет деинициализацию аллокатора, возвращая всю
запрошенную память ОС.
```
virtual void* alloc(size_t size);
```
Выделяет блок памяти размером size байт, выровненный по границе
в 8 байт.
```
virtual void free(void *p);
```
Освобождает занимаемую память, на которую указывает указатель p.
```
virtual void dumpStat() const;
```
Отладочный метод. Выводит в стандартный поток вывода статистику по
аллокатору: количество занятых и свободных блоков, список блоков
запрошенных у ОС и их размеры.
```
virtual void dumpBlocks() const;
```
Отладочный метод. Выводит в стандартный поток вывода список всех этим
занятых блоков: их аллокаторы, страницы, адреса и размеры.
